---
data:
  _extendedDependsOn:
  - icon: ':heavy_check_mark:'
    path: algorithm/bellman_ford.go
    title: algorithm/bellman_ford.go
  - icon: ':heavy_check_mark:'
    path: algorithm/binary_heap.go
    title: algorithm/binary_heap.go
  - icon: ':heavy_check_mark:'
    path: algorithm/binary_heap117.go
    title: algorithm/binary_heap117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/deque.go
    title: algorithm/deque.go
  - icon: ':heavy_check_mark:'
    path: algorithm/deque117.go
    title: algorithm/deque117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/queue.go
    title: algorithm/queue.go
  - icon: ':heavy_check_mark:'
    path: algorithm/queue117.go
    title: algorithm/queue117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/stack.go
    title: algorithm/stack.go
  - icon: ':heavy_check_mark:'
    path: algorithm/stack117.go
    title: algorithm/stack117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/union_find.go
    title: algorithm/union_find.go
  - icon: ':heavy_check_mark:'
    path: main.go
    title: main.go
  - icon: ':heavy_check_mark:'
    path: main117.go
    title: main117.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_A-stack.test.go
    title: test/aoj-ALDS1_3_A-stack.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_A-stack117.test.go
    title: test/aoj-ALDS1_3_A-stack117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_B-queue.test.go
    title: test/aoj-ALDS1_3_B-queue.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_B-queue117.test.go
    title: test/aoj-ALDS1_3_B-queue117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_C-deque.test.go
    title: test/aoj-ALDS1_3_C-deque.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_C-deque117.test.go
    title: test/aoj-ALDS1_3_C-deque117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_9_C-binary_haep.test.go
    title: test/aoj-ALDS1_9_C-binary_haep.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_9_C-binary_haep117.test.go
    title: test/aoj-ALDS1_9_C-binary_haep117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-DSL_1_A-union_find.test.go
    title: test/aoj-DSL_1_A-union_find.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-GRL_1_A-dijkstra.test.go
    title: test/aoj-GRL_1_A-dijkstra.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-GRL_1_B-bellman_ford.test.go
    title: test/aoj-GRL_1_B-bellman_ford.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ITP1_1_A.test.go
    title: test/aoj-ITP1_1_A.test.go
  _extendedRequiredBy:
  - icon: ':heavy_check_mark:'
    path: algorithm/bellman_ford.go
    title: algorithm/bellman_ford.go
  - icon: ':heavy_check_mark:'
    path: algorithm/binary_heap.go
    title: algorithm/binary_heap.go
  - icon: ':heavy_check_mark:'
    path: algorithm/binary_heap117.go
    title: algorithm/binary_heap117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/deque.go
    title: algorithm/deque.go
  - icon: ':heavy_check_mark:'
    path: algorithm/deque117.go
    title: algorithm/deque117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/queue.go
    title: algorithm/queue.go
  - icon: ':heavy_check_mark:'
    path: algorithm/queue117.go
    title: algorithm/queue117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/stack.go
    title: algorithm/stack.go
  - icon: ':heavy_check_mark:'
    path: algorithm/stack117.go
    title: algorithm/stack117.go
  - icon: ':heavy_check_mark:'
    path: algorithm/union_find.go
    title: algorithm/union_find.go
  - icon: ':heavy_check_mark:'
    path: main.go
    title: main.go
  - icon: ':heavy_check_mark:'
    path: main117.go
    title: main117.go
  _extendedVerifiedWith:
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_A-stack.test.go
    title: test/aoj-ALDS1_3_A-stack.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_A-stack117.test.go
    title: test/aoj-ALDS1_3_A-stack117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_B-queue.test.go
    title: test/aoj-ALDS1_3_B-queue.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_B-queue117.test.go
    title: test/aoj-ALDS1_3_B-queue117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_C-deque.test.go
    title: test/aoj-ALDS1_3_C-deque.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_3_C-deque117.test.go
    title: test/aoj-ALDS1_3_C-deque117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_9_C-binary_haep.test.go
    title: test/aoj-ALDS1_9_C-binary_haep.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ALDS1_9_C-binary_haep117.test.go
    title: test/aoj-ALDS1_9_C-binary_haep117.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-DSL_1_A-union_find.test.go
    title: test/aoj-DSL_1_A-union_find.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-GRL_1_A-dijkstra.test.go
    title: test/aoj-GRL_1_A-dijkstra.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-GRL_1_B-bellman_ford.test.go
    title: test/aoj-GRL_1_B-bellman_ford.test.go
  - icon: ':heavy_check_mark:'
    path: test/aoj-ITP1_1_A.test.go
    title: test/aoj-ITP1_1_A.test.go
  _isVerificationFailed: false
  _pathExtension: go
  _verificationStatusIcon: ':heavy_check_mark:'
  attributes: {}
  bundledCode: "Traceback (most recent call last):\n  File \"/home/runner/.local/lib/python3.10/site-packages/onlinejudge_verify/documentation/build.py\"\
    , line 71, in _render_source_code_stat\n    bundled_code = language.bundle(stat.path,\
    \ basedir=basedir, options={'include_paths': [basedir]}).decode()\n  File \"/home/runner/.local/lib/python3.10/site-packages/onlinejudge_verify/languages/user_defined.py\"\
    , line 68, in bundle\n    raise RuntimeError('bundler is not specified: {}'.format(str(path)))\n\
    RuntimeError: bundler is not specified: algorithm/dijkstra.go\n"
  code: "//go:build go1.18\n\npackage algorithm\n\nimport (\n\t\"errors\"\n\t\"math\"\
    \n\n\t\"golang.org/x/exp/constraints\"\n)\n\nvar ErrDijkstraOutOfRange = errors.New(\"\
    Dijkstra: index out of range\")\n\ntype Dijkstra[T constraints.Integer | constraints.Float]\
    \ struct {\n\tg   [][]*dijkstraPair[T] // pair of (cost, to)\n\td   []T\n\tpre\
    \ []int\n\tinf T\n}\n\ntype dijkstraPair[T any] struct {\n\tfirst  T\n\tsecond\
    \ int\n}\n\nfunc NewDijkstra[T constraints.Integer | constraints.Float](n int,\
    \ inf T) *Dijkstra[T] {\n\td := make([]T, n)\n\tpre := make([]int, n)\n\tfor i\
    \ := 0; i < n; i++ {\n\t\td[i] = inf\n\t\tpre[i] = -1\n\t}\n\treturn &Dijkstra[T]{\n\
    \t\tg:   make([][]*dijkstraPair[T], n),\n\t\td:   d,\n\t\tpre: pre,\n\t\tinf:\
    \ inf,\n\t}\n}\n\nfunc NewDefaultDijkstra(n int) *Dijkstra[int] {\n\treturn NewDijkstra(n,\
    \ math.MaxInt)\n}\n\nfunc (d *Dijkstra[T]) Infinity() T {\n\treturn d.inf\n}\n\
    \nfunc (d *Dijkstra[T]) Order() int {\n\treturn len(d.g)\n}\n\nfunc (d *Dijkstra[T])\
    \ AddEdge(from, to int, cost T) {\n\tif !(0 <= from && from < d.Order() && 0 <=\
    \ to && to < d.Order()) {\n\t\tpanic(ErrDijkstraOutOfRange)\n\t}\n\td.g[from]\
    \ = append(d.g[from], &dijkstraPair[T]{\n\t\tfirst:  cost,\n\t\tsecond: to,\n\t\
    })\n}\n\nfunc (d *Dijkstra[T]) Dijkstra(s int) {\n\tif !(0 <= s && s < d.Order())\
    \ {\n\t\tpanic(ErrDijkstraOutOfRange)\n\t}\n\tfor i := 0; i < d.Order(); i++ {\n\
    \t\td.d[i] = d.Infinity()\n\t\td.pre[i] = -1\n\t}\n\td.d[s] = 0\n\tpq := NewBinaryHeap(func(a,\
    \ b *dijkstraPair[T]) bool {\n\t\treturn a.first < b.first\n\t})\n\tpq.Push(&dijkstraPair[T]{\n\
    \t\tfirst:  0, // dist\n\t\tsecond: s, // node\n\t})\n\tfor !pq.Empty() {\n\t\t\
    src := pq.Pop()\n\t\tif d.d[src.second] < src.first {\n\t\t\tcontinue\n\t\t}\n\
    \t\tfor _, edge := range d.g[src.second] {\n\t\t\tif d.d[edge.second] > d.d[src.second]+edge.first\
    \ {\n\t\t\t\td.d[edge.second] = d.d[src.second] + edge.first\n\t\t\t\td.pre[edge.second]\
    \ = src.second\n\t\t\t\tpq.Push(&dijkstraPair[T]{\n\t\t\t\t\tfirst:  d.d[edge.second],\n\
    \t\t\t\t\tsecond: edge.second,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunc (d\
    \ *Dijkstra[T]) Distance(t int) T {\n\tif !(0 <= t && t < d.Order()) {\n\t\tpanic(ErrDijkstraOutOfRange)\n\
    \t}\n\treturn d.d[t]\n}\n\nfunc (d *Dijkstra[T]) ShortestPath(t int) []int {\n\
    \tif !(0 <= t && t < d.Order()) {\n\t\tpanic(ErrDijkstraOutOfRange)\n\t}\n\tvar\
    \ path []int\n\tif d.Distance(t) == d.Infinity() {\n\t\treturn path\n\t}\n\tfor\
    \ t != -1 {\n\t\tpath = append(path, t)\n\t\tt = d.pre[t]\n\t}\n\tfor i := 0;\
    \ i < len(path)/2; i++ {\n\t\tpath[i], path[len(path)-1-i] = path[len(path)-1-i],\
    \ path[i]\n\t}\n\treturn path\n}\n"
  dependsOn:
  - main.go
  - test/aoj-GRL_1_A-dijkstra.test.go
  - test/aoj-ALDS1_9_C-binary_haep117.test.go
  - test/aoj-ALDS1_3_C-deque.test.go
  - test/aoj-ALDS1_3_B-queue.test.go
  - test/aoj-ALDS1_9_C-binary_haep.test.go
  - test/aoj-ALDS1_3_B-queue117.test.go
  - test/aoj-ALDS1_3_C-deque117.test.go
  - test/aoj-GRL_1_B-bellman_ford.test.go
  - test/aoj-ITP1_1_A.test.go
  - test/aoj-DSL_1_A-union_find.test.go
  - test/aoj-ALDS1_3_A-stack.test.go
  - test/aoj-ALDS1_3_A-stack117.test.go
  - algorithm/bellman_ford.go
  - algorithm/stack117.go
  - algorithm/binary_heap117.go
  - algorithm/deque117.go
  - algorithm/queue117.go
  - algorithm/deque.go
  - algorithm/union_find.go
  - algorithm/queue.go
  - algorithm/binary_heap.go
  - algorithm/stack.go
  - main117.go
  isVerificationFile: false
  path: algorithm/dijkstra.go
  requiredBy:
  - main.go
  - algorithm/bellman_ford.go
  - algorithm/stack117.go
  - algorithm/binary_heap117.go
  - algorithm/deque117.go
  - algorithm/queue117.go
  - algorithm/deque.go
  - algorithm/union_find.go
  - algorithm/queue.go
  - algorithm/binary_heap.go
  - algorithm/stack.go
  - main117.go
  timestamp: '2024-08-27 21:19:54+09:00'
  verificationStatus: LIBRARY_ALL_AC
  verifiedWith:
  - test/aoj-GRL_1_A-dijkstra.test.go
  - test/aoj-ALDS1_9_C-binary_haep117.test.go
  - test/aoj-ALDS1_3_C-deque.test.go
  - test/aoj-ALDS1_3_B-queue.test.go
  - test/aoj-ALDS1_9_C-binary_haep.test.go
  - test/aoj-ALDS1_3_B-queue117.test.go
  - test/aoj-ALDS1_3_C-deque117.test.go
  - test/aoj-GRL_1_B-bellman_ford.test.go
  - test/aoj-ITP1_1_A.test.go
  - test/aoj-DSL_1_A-union_find.test.go
  - test/aoj-ALDS1_3_A-stack.test.go
  - test/aoj-ALDS1_3_A-stack117.test.go
documentation_of: algorithm/dijkstra.go
layout: document
redirect_from:
- /library/algorithm/dijkstra.go
- /library/algorithm/dijkstra.go.html
title: algorithm/dijkstra.go
---
